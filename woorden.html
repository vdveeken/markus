<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Woorden Oefenen</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 1em auto;
      padding: 0 1em;
    }
    header h1 {
      font-size: 2em;
      margin-bottom: 0.2em;
    }
    nav a {
      text-decoration: none;
      color: #007BFF;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      margin-bottom: 0.8em;
      font-size: 1.2em;
    }
    input[type="text"] {
      width: 1.2em;
      text-align: center;
      font-size: 1.2em;
      margin: 0 0.1em;
      border: 1px solid #ccc;
      border-radius: 3px;
      vertical-align: middle;
    }
    input.correct {
      background-color: #ffff99; /* lichtgeel */
      border-color: #999900;
      font-weight: bold;
    }
    input.incorrect {
      background-color: #ffb3b3; /* lichtrood */
      border-color: #cc0000;
    }
    /* Gearceerd woord in de puzzel */
    li.gevonden {
      background-color: #fff799;
      border-radius: 5px;
      padding: 0.1em 0.4em;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    /* Onderstreepte woorden in gevonden lijst */
    #gevondenWoorden li {
      font-size: 1em;
      margin-bottom: 0.4em;
    }
    #gevondenWoorden li.gevonden s {
      text-decoration: line-through;
      color: #555;
      font-weight: normal;
    }
    button {
      margin-right: 1em;
      margin-top: 0.5em;
      padding: 0.4em 0.8em;
      font-size: 1em;
      cursor: pointer;
      border: 1px solid #007BFF;
      border-radius: 4px;
      background-color: white;
      color: #007BFF;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #007BFF;
      color: white;
    }
    #resultaat {
      font-weight: bold;
      margin-top: 1em;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <header>
    <h1>ðŸ”¤ Woordspel</h1>
    <nav><a href="index.html">Home</a></nav>
  </header>
  <main>
    <p>Vul de ontbrekende letters aan:</p>
    <form id="woordForm" onsubmit="return false;">
      <ul id="woordenlijst"></ul>
      <button type="button" onclick="controleer()">Controleer antwoorden</button>
      <button type="button" onclick="nieuweVragen()">Nieuwe vragen</button>
    </form>
    <div id="resultaat"></div>

    <h2>Gevonden woorden</h2>
    <ul id="gevondenWoorden"></ul>
  </main>

  <script>
    const woorden = [
      { woord: "hond", hint: "huisdier met poten", ontbreek: [1] },
      { woord: "boom", hint: "groeit in het bos", ontbreek: [1] },
      { woord: "vogel", hint: "vliegt in de lucht", ontbreek: [1, 3] },
      { woord: "mes", hint: "om mee te snijden", ontbreek: [1] },
      { woord: "school", hint: "gebouw met klaslokalen", ontbreek: [3] },
      { woord: "auto", hint: "vervoermiddel met 4 wielen", ontbreek: [0] },
      { woord: "groen", hint: "kleur van gras", ontbreek: [2] },
      { woord: "dier", hint: "dierentuin-dier", ontbreek: [0] },
      { woord: "klok", hint: "maakt lawaai als hij slaat", ontbreek: [2] },
      { woord: "fiets", hint: "twee wielen, trappen", ontbreek: [1] },
      { woord: "plant", hint: "groeit in een pot", ontbreek: [2] },
      { woord: "stoel", hint: "om op te zitten", ontbreek: [2] },
      { woord: "regen", hint: "valt uit de lucht", ontbreek: [2] },
      { woord: "kaars", hint: "geeft licht", ontbreek: [2] },
      { woord: "wolken", hint: "drijven in de lucht", ontbreek: [3] }
    ];

    let actieveWoorden = [];

    function nieuweVragen() {
      const lijst = document.getElementById("woordenlijst");
      const gevondenLijst = document.getElementById("gevondenWoorden");
      lijst.innerHTML = "";
      gevondenLijst.innerHTML = "";
      document.getElementById("resultaat").textContent = "";

      actieveWoorden = woorden
        .sort(() => 0.5 - Math.random())
        .slice(0, 10)
        .map(w => ({ ...w, gevonden: false }));

      actieveWoorden.forEach((item, index) => {
        const woordArray = item.woord.split('');
        item.ontbreek.forEach(i => {
          woordArray[i] = `<input type="text" maxlength="1" data-index="${index}" data-pos="${i}">`;
        });

        const invoerWoord = woordArray.join('');
        const li = document.createElement('li');
        li.id = `woord-${index}`;
        li.innerHTML = `${invoerWoord} <em>(${item.hint})</em>`;
        lijst.appendChild(li);
      });

      updateGevondenWoorden();
    }

    function controleer() {
      let allesGoed = true;

      actieveWoorden.forEach((item, index) => {
        if (item.gevonden) return; // al gevonden, overslaan

        const ontbreekLetters = item.ontbreek;
        let woordGoed = true;

        ontbreekLetters.forEach(pos => {
          const input = document.querySelector(`input[data-index="${index}"][data-pos="${pos}"]`);
          if (!input) {
            woordGoed = false;
            return;
          }
          const juisteLetter = item.woord[pos];
          const ingevuld = input.value.toLowerCase();

          if (ingevuld === juisteLetter) {
            input.classList.remove("incorrect");
            input.classList.add("correct");
          } else {
            input.classList.remove("correct");
            input.classList.add("incorrect");
            woordGoed = false;
            allesGoed = false;
          }
        });

        if (woordGoed) {
          item.gevonden = true;
          const li = document.getElementById(`woord-${index}`);
          if (li) {
            li.classList.add("gevonden");
            const inputs = li.querySelectorAll("input");
            inputs.forEach(i => {
              i.classList.remove("incorrect");
              i.classList.add("correct");
              i.disabled = true;
            });
          }
        }
      });

      updateGevondenWoorden();

      document.getElementById("resultaat").textContent = allesGoed
        ? "âœ… Alles goed ingevuld!"
        : "âŒ Niet alles klopt. Probeer het nog eens.";
    }

    function updateGevondenWoorden() {
      const gevondenLijst = document.getElementById("gevondenWoorden");
      gevondenLijst.innerHTML = "";

      actieveWoorden.forEach(item => {
        const li = document.createElement('li');
        if (item.gevonden) {
          li.classList.add("gevonden");
          li.innerHTML = `<s>${item.woord}</s>`;
        } else {
          li.textContent = item.woord;
        }
        gevondenLijst.appendChild(li);
      });
    }

    window.onload = nieuweVragen;
  </script>
</body>
</html>
